!function(e){"use strict";var i,o,n,t,l=e(".loftocean-room-facility-wrapper"),a=e(".loftocean-flaticons-libaray"),c=a.find(".loftocean-lightbox-main-content-search input"),f=a.find(".loftocean-lightbox-icon-item"),r=e(".submit.loftocean-submit-button #submit");l.length&&(i=l.find(".loftocean-room-facility-add"),o=wp.template("loftocean-room-facility"),n=l.siblings("[name=loftocean_room_facility_removed]"),a.on("click",".loftocean-lightbox-close-area",function(t){a.hide()}).on("keyup",".loftocean-lightbox-main-content-search input",function(t){var i=e(this).val();(i?f.hide().filter('[title*="'+i.toLowerCase()+'"]'):f).show()}).on("click",".loftocean-lightbox-icon-item",function(t){f.removeClass("selected"),e(this).addClass("selected")}).on("click",".loftocean-lightbox-insert-button",function(t){t.preventDefault(),t.stopImmediatePropagation();var i=e(a.data("currentItem")),t=f.filter(".selected");i.length&&t.length&&(t=t.attr("filter"),i.find("input").val(t),i.find(".icon-preview").html('<i class="flaticon flaticon-'+t+'"></i>')),a.hide()}),l.on("click",".loftocean-room-facility-item-remove",function(t){t.preventDefault();var i=e(this).closest(".loftocean-room-facility-item"),o=i.find(".facility-item-id-hidden");o.length&&o.val()&&(t=o.val(),(o=(o=n.val())?o.split(","):[]).push(t),n.val(o.join(","))),i.remove()}).on("keyup",".loftocean-room-facility-label",function(t){var i=e(this).closest(".loftocean-room-facility-item").find("h3 .item-name"),o=e(this).val();i.length&&(o?i.html(" - "+o):i.html(""))}).on("click",".loftocean-room-facility-choose-icon",function(t){t.preventDefault(),c.val(""),f.show(),a.data("currentItem",e(this).parent()).show()}).on("click",".loftocean-room-facility-remove-icon",function(t){t.preventDefault(),e(this).siblings("input").val(""),e(this).siblings(".icon-preview").html("")}),i.on("click",function(t){t.preventDefault(),i.before(o({index:i.data("current-index"),list:[{name:"",description:"",icon:"",facility_type:"custom-facility",term_id:""}]})),i.data("current-index",1+i.data("current-index"))}),(t=!!loftoceanRoomFacility&&(Array.isArray(loftoceanRoomFacility)?loftoceanRoomFacility:"object"==typeof loftoceanRoomFacility&&Object.values(loftoceanRoomFacility)))&&(i.before(o({index:0,list:t})),i.data("current-index",t.length)),l.sortable({items:"> .loftocean-room-facility-item"}).on("dblclick",".loftocean-room-facility-item > h3",function(t){var i=e(this).siblings(".loftocean-room-facility-controls-wrapper");i.length&&i.toggle()}),r.length&&r.removeAttr("disabled").siblings(".spinner").css("visibility","hidden"))}(jQuery);
